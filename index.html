<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jonathan Gu: Personal Site and Portfolio</title>
    <link rel="stylesheet" href="style.css">
    <script src="global.js" type="module"></script>
</head>
<body>
    <header>
        <h1>Jonathan Gu</h1>
        <p>Welcome to my personal site and portfolio!</p>
    </header>

    <nav>
        <a href="index.html" aria-current="page">Home</a> |
        <a href="projects/index.html">Projects</a> |
        <a href="contact/index.html">Contact</a> |
        <a href="CV/index.html">CV</a> |
        <a href="https://github.com/jgu0453" target="_blank">GitHub</a>
    </nav>

    <main>
        <section>
            <h2>About Me</h2>
            <p>
                Hello! I'm Jonathan, a computer science student passionate about building engaging web experiences. 
                Explore my projects and learn more about my background!
            </p>
        </section>

        <figure>
            <img src="images/pepe.jpg" alt="Pepe the Frog" style="width:300px; height:auto;">
            <figcaption>Nah I'd win</figcaption>
        </figure>

        <section class="featured-projects">
            <h2>Featured Projects</h2>
            <div class="projects-preview"></div>
        </section>
        
        <script type="module">
            import { fetchJSON, renderProjects } from './global.js';
        
            document.addEventListener("DOMContentLoaded", async () => {
                const previewContainer = document.querySelector(".projects-preview");
                const projects = await fetchJSON('./projects/lib/projects.json');
        
                if (projects) {
                    renderProjects(projects.slice(0, 3), previewContainer, 'h3'); // Show only first 3 projects
                }
            });
        </script>

    </main>

    <button class="dark-mode-toggle">Dark Mode</button>

    <footer>
        <p>&copy; 2025 Jonathan Gu. All rights reserved.</p>
    </footer>
</body>
</html>
